'use strict';var _=require('lodash'),util=require('util'),utilities=require('fedtools-utilities'),log=require('fedtools-logs'),common=require('../common'),EnvtoolsBase=require('./base'),EnvtoolsHelp=function(){EnvtoolsBase.call(this)};util.inherits(EnvtoolsHelp,EnvtoolsBase),EnvtoolsHelp.prototype.name='EnvtoolsHelp',EnvtoolsHelp.prototype._initialize=function(){EnvtoolsBase.prototype._initialize.call(this)},EnvtoolsHelp.prototype.printShortUsage=function(a,b){var c=[],d=_.keys(this.commands);c.push(''),a&&c.push(a),c.push(log.strToColor('yellow',this.i18n.t('prompt.parameters')));for(var f=utilities.wordWrap(d.join(', '),this.CMD_DESC_MAX),g=f.length,h=0;h<g;h+=1)c.push('  '+f[h]);c.push(''),c.push(log.strToColor('yellow',this.i18n.t('prompt.extraHelpTitle'))),c.push('  '+this.i18n.t('prompt.extraHelpContent')),c.push('');var e=b&&b.currentVersion?'v'+b.currentVersion:null;log.printMessagesInBox(c,common.LOG_COLORS.DEFAULT_BOX,e)},EnvtoolsHelp.prototype.printLongUsage=function(a){var b,c,d,e,f,g,h,i,j,k=_.keys(this.commands),l=k.length,m='  ',n='';for(a&&log.echo(a),log.echo(this.i18n.t('prompt.parameters')),g=0;g<l;g+=1)for(d=k[g],e=this.commands[k[g]].full,f=this.commands[k[g]].description,b=e?m+d+' ('+e+')':m+d,c=b.length,n=log.strToColor('cyan',b)+log.strToColor('white',Array(this.CMD_MAX_LEN-c).join('.'))+' ',i=utilities.wordWrap(f,this.CMD_DESC_MAX),log.echo(),log.rainbow(n+i[0]),j=i.length,h=1;h<j;h+=1)log.rainbow(Array(this.CMD_MAX_LEN+1).join(' ')+i[h]);log.echo()},EnvtoolsHelp.prototype.printUsage=function(a,b,c){b.help||'help'===b._[0]?(this.printLongUsage(a),c.printUpgradeIfAny()):(this.printShortUsage(a,c),c.printUpgradeIfAny())},module.exports=function(){return EnvtoolsHelp._instance||new EnvtoolsHelp}();