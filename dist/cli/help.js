'use strict';var EnvtoolsHelp,_=require('lodash'),util=require('util'),utilities=require('fedtools-utilities'),log=require('fedtools-logs'),common=require('../common'),EnvtoolsBase=require('./base');EnvtoolsHelp=function(){EnvtoolsBase.call(this)},util.inherits(EnvtoolsHelp,EnvtoolsBase),EnvtoolsHelp.prototype.name='EnvtoolsHelp',EnvtoolsHelp.prototype._initialize=function(){EnvtoolsBase.prototype._initialize.call(this)},EnvtoolsHelp.prototype.printShortUsage=function(a,b){var c,d,e,f,g=[],h=_.keys(this.commands);for(g.push(''),a&&g.push(a),g.push(log.strToColor('yellow',this.i18n.t('prompt.parameters'))),e=utilities.wordWrap(h.join(', '),this.CMD_DESC_MAX),f=e.length,c=0;c<f;c+=1)g.push('  '+e[c]);g.push(''),g.push(log.strToColor('yellow',this.i18n.t('prompt.extraHelpTitle'))),g.push('  '+this.i18n.t('prompt.extraHelpContent')),g.push(''),d=b&&b.currentVersion?'v'+b.currentVersion:null,log.printMessagesInBox(g,common.LOG_COLORS.DEFAULT_BOX,d)},EnvtoolsHelp.prototype.printLongUsage=function(a){var b,c,d,e,f,g,h,i,j,k=_.keys(this.commands),l=k.length,m='',n='  ';for(a&&log.echo(a),log.echo(this.i18n.t('prompt.parameters')),g=0;g<l;g+=1)for(d=k[g],e=this.commands[k[g]].full,f=this.commands[k[g]].description,b=e?n+d+' ('+e+')':n+d,c=b.length,m=log.strToColor('cyan',b)+log.strToColor('white',Array(this.CMD_MAX_LEN-c).join('.'))+' ',i=utilities.wordWrap(f,this.CMD_DESC_MAX),log.echo(),log.rainbow(m+i[0]),j=i.length,h=1;h<j;h+=1)log.rainbow(Array(this.CMD_MAX_LEN+1).join(' ')+i[h]);log.echo()},EnvtoolsHelp.prototype.printUsage=function(a,b,c){b.help||'help'===b._[0]?(this.printLongUsage(a),c.printUpgradeIfAny()):(this.printShortUsage(a,c),c.printUpgradeIfAny())},module.exports=function(){return EnvtoolsHelp._instance||new EnvtoolsHelp}();