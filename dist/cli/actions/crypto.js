'use strict';const _=require('lodash'),path=require('path'),fs=require('fs-extra'),log=require('fedtools-logs'),utilities=require('fedtools-utilities'),common=require('../../common');module.exports=function(a,b){const c=!_.isBoolean(b.status)||b.status,d=_.isString(b.p)?b.p:null,e=b.encrypt,f=_.isString(b.o)?b.o:null;let g=_.isString(b.f)?b.f:null;g&&fs.existsSync(g)?g=path.resolve(g):function(){const a=[];log.echo(),a.push(''),a.push(log.strToColor('yellow','Description:')),a.push('Envtools encrypt|decrypt is a simple command line tool that'),a.push('allows you to encrypt or decrypt a file with a password.'),a.push('The encryption algorithm used is AES-256-CTR.'),a.push('If the password (-p) is not provided, you will be prompted for one.'),a.push(''),a.push(log.strToColor('yellow','Usage:')),a.push('envtools encrypt [-f input] [-o output] [-p password]'),a.push('envtools decrypt [-f input] [-o output] [-p password]'),a.push(''),a.push(log.strToColor('yellow','Examples:')),a.push('$ envtools encrypt -f plain-file.txt -o encrypted-file.txt'),a.push('$ envtools decrypt -f encrypted-file.txt -o plain-file.txt'),a.push(''),log.printMessagesInBox(a,common.LOG_COLORS.DEFAULT_BOX),log.echo(),process.exit(1)}('Invalid argument, file is missing (-f)'),utilities.cryptographer({file:g,output:f,status:c,password:d,encrypt:e},function(a){if(a)throw a})};