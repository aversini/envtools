'use strict';var log=require('fedtools-logs'),notifier=require('./notifier'),_=require('lodash'),common=require('../../common'),bootstrap=require('../../bootstrap/index');module.exports=function(a,b,c,d){var e=!_.isBoolean(c.notification)||c.notification;bootstrap[b]({debug:a.debug,i18n:a.i18n,version:a.version},function(b){if(b&&b!==common.USER_INTERRUPT&&b!==common.USER_WARNING&&(log.error(a.i18n.t('bootstrap.errors.general')),log.info(a.i18n.t('bootstrap.errors.info')),log.echo(),e&&notifier(a,{message:a.i18n.t('bootstrap.errors.general'),type:'ERROR'})),_.isFunction(d))return d(b)})};