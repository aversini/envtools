'use strict';var path=require('path'),fs=require('fs-extra'),utilities=require('fedtools-utilities'),cmd=require('fedtools-commands'),log=require('fedtools-logs'),common=require('../../common');module.exports=function(a){var b,c,d=[],e=a.version.currentVersion,f='envlite-'+e+'.tgz',g=path.basename(f);c=utilities.getTemporaryDir('envlite-'+e),b=path.join(c,'envlite'),fs.ensureDirSync(b),fs.copy(common.ENVTOOLS.SHELLDIR,b,function(a){a?log.red(a):(fs.writeFileSync(path.join(b,'version'),common.ENVTOOLS.VERSION),cmd.run('tar czf '+f+' envlite',{status:!1,pwd:c},function(a,b){a?b?log.red(b):log.red(a):fs.copy(path.join(c,f),path.join(process.cwd(),f),function(a){a?log.red(a):(d.push(''),d.push(log.strToColor('yellow','ENVTOOLS LITE\n')),d.push('A compressed file has been created and deposited in the current folder.'),d.push('The file name is '+log.strToColor('yellow',g)),d.push(''),d.push(log.strToColor('yellow','WHAT IS IT?\n')),d.push('It contains a very limited subset of envtools, the bare minimum to at least'),d.push('have a decent prompt, as well as a few core aliases (ll, etc.)'),d.push('It does not have any of envtools node capabilities since the package only'),d.push('contains shell scripts helpers.'),d.push(''),d.push(log.strToColor('yellow','HOW TO USE IT?\n')),d.push('1) copy the generated tar.gz file on the destination machine'),d.push(log.strToColor('blue',' $ scp '+g+' remoteServerName:\n')),d.push('2) login to the remote machine and untar the file'),d.push(log.strToColor('blue',' $ ssh remoteServerName')),d.push(log.strToColor('blue',' $ tar xf '+g+'\n')),d.push('3) Add the following lines to your profile (.bashrc or .bash_profile)'),d.push(log.strToColor('blue',' ENVTOOLS_LITE=1 && source "$HOME/envlite/load.sh"')),d.push(''),log.printMessagesInBox(d,common.LOG_COLORS.DEFAULT_BOX))})}))})};